
public class Solution {
	public TreeNode binarySearchTreeToDList(TreeNode root){
		if(root == null) return null;
		TreeNode pEnd = bSTToDList(root);/*this recursive method return the list's end*/
		TreeNode pHead = pEnd;
		while(pHead.left != null) pHead = pHead.left;/*obtain the double list's head*/
		return pHead;
	}
	
	private TreeNode bSTToDList(TreeNode root){
		if(root == null) return null;
		if((root.left == null)&&(root.right == null)) return root;/*leaf node, return*/
	
		if(root.left != null){/*left subTree*/
			TreeNode leftEnd = bSTToDList(root.left);/*recursively obtain left tree's list's end*/
			leftEnd.right = root;
			root.left = leftEnd;
		}
		if(root.right != null) {
			TreeNode rightEnd = bSTToDList(root.right);
			TreeNode rightHead = rightEnd;
			while(rightHead.left != null) rightHead = rightHead.left;
			rightHead.left = root;
			root.right = rightHead;
			
			return rightEnd;
		}
		
		return root;		
	}
}
